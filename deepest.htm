<!DOCTYPE html>
<html lang="en-AU">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="initial-scale=1, minimum-scale=1" />
<title>We need to go deeper</title>
</head>


<body>
	<div id="target">
		<h1>Something</h1>
		<h2>Something <span>else</span></h2>
		<main>
			<p><a href="#">Also good</a>.</p>
			<div><span>Hotshot</span>, <div><b>PLEASE</b></div></div>
			<div>
				<h3>Suck my greasy monkey dick</h3>
				<ul>
					<li>I'm tired, man.</li>
					<li>So tired</li>
					<li>I need a job</li>
					<li>Please universe, <strong><span>give <u><i>me <strong>a <span>JOB</span></strong></i></u></span></strong></li>
				</ul>
			</div>
		</main>
		
		<main>
			<p><a href="#">Also good</a>.</p>
			<div><span>Hotshot</span>, <div><b>PLEASE</b></div></div>
			<div>
				<h3>Suck my greasy monkey dick</h3>
				<ul>
					<li>I'm tired, man.</li>
					<li>So tired</li>
					<li>I need a job</li>
					<li>Please universe, <strong><span>give <u><i>me <strong>a <span style="text-transform: uppercase;">job</span></strong></i></u></span></strong></li>
				</ul>
			</div>
		</main>
		<footer>
			<div></div>
		</footer>
	</div>
	
	<div id="empty"></div>
	
	<script>
		"use strict";
		
		/**
		 * Return the deepest node within an element's descendants.
		 *
		 * @param {HTMLElement} el
		 * @return {Node}
		 */
		function deepest(el){
			
			var children = el.querySelectorAll("*");
			var branches = [];
			var length   = children.length;
			
			/** Return the original element if there were no children */
			if(!length) return el;
			
			for(var i = 0; i < length; ++i){
				var child  = children[i];
				var depth  = 0;
				var parent = child.parentNode;
				
				while(parent !== el){
					++depth;
					parent = parent.parentNode;
				}
				
				branches.push([depth, child]);
			}
			
			/** Ascertain which child had the greatest depth */
			depth = [-1, null];
			for(i = 0, l = branches.length; i < l; ++i){
				child = branches[i];
				if(child[0] > depth[0])
					depth = child;
			}
			
			return depth[1];
		}
		
		var target = document.getElementById("target");
		var empty  = document.getElementById("empty");
		
	</script>
</body>
</html>
